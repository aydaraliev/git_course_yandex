# Основные команды Git

Этот файл README.md содержит базовые команды Git, включая настройку глобальной конфигурации, создание репозитория, добавление и коммит файлов, создание удалённого репозитория на github.com, отправку изменений в удалённый репозиторий, а также генерацию SSH ключей для Linux.


### Настройка глобальной конфигурации Git
```bash
git config --global user.name "Ваше имя"
git config --global user.email "ваш_email@example.com"
```


### Инициализация нового репозитория Git
```bash
git init
# Если имя ветки по умолчанию `master` и вы хотите поменять название на `main`
git branch -m master main
```


### Добавление и коммит файлов
```bash
git add <имя файла>   # Добавить файл к следующему коммиту
git add .             # Добавить все изменённые файлы
git add --all         # Добавить все изменённые файлы
git commit -m "Ваше сообщение о коммите"
```


### Генерация SSH ключей на Linux
```bash
ssh-keygen -t rsa -b 4096 -C "ваш_email@example.com"  # Генерация ключа
# Что-бы не вводить каждый раз пароль от ssh, если он есть
eval "$(ssh-agent -s)"                                # Запуск агента
ssh-add ~/.ssh/id_rsa                                 # Добавление ключа к агенту
```


### Добавление вашего публичного ключа в аккаунт на GitHub
Откройте файл вашего публичного ключа командой
```bash
cat ~/.ssh/id_rsa.pub
```
Скопируйте содержимое файла и добавьте в раздел SSH keys в настройках вашего аккаунта на GitHub.


### Добавление удалённого репозитория и назвать его origin
```bash
git remote add origin <URL вашего репозитория на GitHub>
```


### Отправка ваших коммитов на GitHub
```bash
# Для первого пуша
git push -u origin main
# Для последующих пушей часть "-u origin main" не обязательна
git push
```

### Логирование коммитов
```bash
# Для вывода лога коммитов
git log
# Сокращённые логи(только укороченный хэш и описание)
git log --oneline
```


### Хэширование коммитов
Хэш основной идентификатор коммита. Для хэширования в Git используется алгоритм SHA1. Хэш рассчитывается на основе информации о коммите, в неё входят: дата и время когда был сделан коммит, содержимое файлов в репозитории на момент коммита и ссылка на предыдущий коммит. Длина укороченного хэша который отображается командой `git log --oneline` подбирается таким образом что-бы он был уникальным.


### Логирование
Посмотреть лог можно командой `git log`. После вызова команды на экран будет выведен список коммитов, для каждого коммита доступна следующая информация: хэш, имя/никнейм автора вместе с почтой, дата и время, а также сообщение коммита. Если коммитов очень много то удобнее пользоваться `git log --oneline`, которая выводит укороченный хэш, и сообщение коммита.


### Что такое HEAD
HEAD это текстовый файл в папке .git в котором содержится ссылка на последний коммит. Например на ветку `refs/heads/main`, в файле самой ветки будет содержаться хэш коммита. Вместо названия коммита коммандам git можно передавать HEAD, тогда комманда будет работать с последним коммитом.


### Статусы файлов
Состояния файлов: untracked/tracked, staged, modified. Staged, indexed и cached - одно и то же, это состояние файлов после git add или, другими словами, попадания их в staging area. Состояние modified может быть только у tracked файлов, такое состояние значит что файл изменён относительно файлов которые уже в staging area.

схема измения статусов:

```mermaid
graphLR;
  untracked--"git add"-->"staged + tracked";
  "staged + tracked"--"git commit"-->"committed + tracked";
  "staged + tracked"--"changes"--> modified;
  modified--"git add"-->"staged + tracked";
  "committed + tracked"--"changes"--> modified;
```

### Как читать git status
Типичные варианты вывода git status: без изменений, с найденными неотслеживаемыми файлами, с изменениями, которые не войдут в коммит, и с изменениями, которые уже попали в коммит. В случае изменений файла, git status может показать его состояние как "staged" и "modified".


### Оформление сообщений к коммитам
Часто в коммандах встречается ограничение по длине символов, например от 36 до 72, причина git log --oneline. Форматы сообщений: корпоративный - `LGS-239: Дополнить список пасхалок новыми числами`, convetional commits - `feat: добавить подсчёт суммы заказов за неделю`, GitHub - `Исправить #334, добавить график температуры`. Для сообщений на русском инфинитивы - добавить, исправить. Для сообщений на английском императивы - use,  fix.
